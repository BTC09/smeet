–ò–∑–≤–∏–Ω—è—é—Å—å –∑–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é! –î–∞–≤–∞–π –ø–µ—Ä–µ–ø–∏—à–µ–º –∫–æ–¥ –∏ —Å–¥–µ–ª–∞–µ–º –µ–≥–æ **–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º** –∏ **–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º**. –ú—ã –Ω–µ–º–Ω–æ–≥–æ —É–ø—Ä–æ—Å—Ç–∏–º —Ñ–∏–∑–∏–∫—É –∏ —É—Å—Ç—Ä–∞–Ω–∏–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

**–í–æ—Ç —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞**, —Å –±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ñ–∏–∑–∏–∫–æ–π, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∏ —É–ª—É—á—à–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã —Å —à–∞—Ä–∏–∫–∞–º–∏ –∏ —É—Ä–æ–≤–Ω—è–º–∏:

### –ù–æ–≤—ã–π –∫–æ–¥:

```html
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SMEET Casino - Plinko</title>
<style>
body { margin: 0; overflow: hidden; background: #000; font-family: Arial, sans-serif; }

canvas { display: block; }

#welcome {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  font-size: 80px; color: #FFD700; text-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700, 0 0 30px #FF4500;
  white-space: nowrap; overflow: hidden; clip-path: inset(0 100% 0 0);
  animation: revealText 2s forwards ease-out; z-index: 10;
}

@keyframes revealText { from { clip-path: inset(0 100% 0 0); } to { clip-path: inset(0 0 0 0); } }

.fade-out { animation: fadeOut 1s forwards; }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

#menu {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  color: #fff; text-align: center; display: none; z-index: 10;
}

#menu button {
  font-size: 25px; margin: 15px; padding: 10px 30px; background: #222; color: #FFD700;
  border: 2px solid #FFD700; cursor: pointer; border-radius: 10px; transition: 0.3s;
}

#menu button:hover { background: #FFD700; color: #000; }

#ui {
  position: absolute; top: 10px; left: 10px; color: #fff; z-index: 10; font-size: 20px;
}

#ui label { margin-right: 10px; }
#ui input { width: 60px; }
#ui button {
  font-size: 20px; padding: 10px 30px; margin-top: 10px; background: #222; color: #FFD700;
  border: 2px solid #FFD700; border-radius: 10px; cursor: pointer; transition: 0.3s;
}
#ui button:hover { background: #FFD700; color: #000; }
</style>
</head>
<body>

<div id="welcome">üé∞ SMEET üé∞</div>
<div id="menu">
  <h2>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</h2>
  <button onclick="startPlinko('easy')">–õ–µ–≥–∫–∏–π</button>
  <button onclick="startPlinko('medium')">–°—Ä–µ–¥–Ω–∏–π</button>
  <button onclick="startPlinko('hard')">–¢—è–∂–µ–ª—ã–π</button>
</div>

<div id="ui" style="display:none;">
  <label>–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></label>
  <label>–°—Ç–∞–≤–∫–∞: <input type="number" id="bet" value="50" min="10" max="1000"></label>
  <button onclick="dropBall()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —à–∞—Ä–∏–∫</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–≤–∞—Å–∞
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let balance = 1000;
let history = [];
let level = 'easy';
let sections = [], pins = [], balls = [];
const ballRadius = 12;

// –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤—ã–∏–≥—Ä—ã—à–∞
const levels = {
  easy:   [0.8, 1, 1.5, 2, 2.5, 5],
  medium: [0.5, 0.8, 1, 1.3, 1.5, 2, 2.5, 4.5, 10],
  hard:   [0.2, 0.5, 0.8, 1, 1.3, 1.5, 1.8, 2.2, 4, 6, 10, 25, 50, 100]
};

// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
const welcomeDiv = document.getElementById('welcome');
const menuDiv = document.getElementById('menu');
setTimeout(() => {
  welcomeDiv.classList.add('fade-out');
  setTimeout(() => { welcomeDiv.style.display = 'none'; menuDiv.style.display = 'block'; }, 1000);
}, 3000);

// –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
function startPlinko(selectedLevel) {
  level = selectedLevel;
  plinkoActive = true;
  menuDiv.style.display = 'none';
  initPlinko();
  document.getElementById('ui').style.display = 'block';
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ü–ª–∏–Ω–∫–æ
function initPlinko() {
  sections = [];
  pins = [];
  balls = [];
  const prizeList = levels[level];
  // —Å–æ–∑–¥–∞—ë–º —Å–µ–∫—Ü–∏–∏
  for (let i = 0; i < prizeList.length; i++) {
    sections.push({ x: i * (canvas.width / prizeList.length), width: canvas.width / prizeList.length, coef: prizeList[i], color: `hsl(${Math.random() * 360},70%,50%)` });
  }

  // —Å–æ–∑–¥–∞—ë–º —à—Ç—ã—Ä–∏
  const rows = 7;
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col < prizeList.length; col++) {
      const offset = row % 2 === 0 ? 0 : 40;
      const x = col * 80 + offset + (canvas.width - prizeList.length * 80) / 2;
      const y = row * 80 + 150;
      pins.push({ x, y });
    }
  }
}

// –ó–∞–ø—É—Å–∫ —à–∞—Ä–∏–∫–∞
function dropBall() {
  const bet = parseInt(document.getElementById('bet').value);
  if (balance < bet) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞!');
  balance -= bet;
  document.getElementById('balance').innerText = balance;
  balls.push({ x: canvas.width / 2, y: 50, vx: (Math.random() * 2 - 1) * 3, vy: 0, bet });
}

// –§–∏–∑–∏–∫–∞ –ø–∞–¥–µ–Ω–∏—è —à–∞—Ä–∏–∫–∞ –∏ –æ—Ç—Å–∫–æ–∫–æ–≤
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // --- –ó–≤–µ–∑–¥—ã ---
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.fill();
    ctx.closePath();
    s.alpha += s.alphaChange;
    if (s.alpha > 1 || s.alpha < 0) s.alphaChange *= -1;
  });

  // --- –ö–æ–º–µ—Ç—ã ---
  comets.forEach(c => {
    c.trail.push({ x: c.x, y: c.y });
    if (c.trail.length > 20) c.trail.shift();
    c.trail.forEach((p, i) => {
      const alpha = i / c.trail.length * 0.5;
      ctx.beginPath();
      ctx.arc(p.x, p.y, c.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${alpha})`;
      ctx.fill();
      ctx.closePath();
    });
    ctx.beginPath();
    ctx.arc(c.x, c.y, c.radius, 0, Math.PI * 2);
    ctx.fillStyle = '#fff';
    ctx.fill();
    ctx.closePath();
    c.x += c.speedX;
    c.y += c.speedY;
    if (c.x > canvas.width + 50 || c.y > canvas.height + 50) {
      c.x = Math.random() * canvas.width;
      c.y = -50;
      c.trail = [];
    }
  });

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —à–∞—Ä–∏–∫–æ–≤
  if (balls.length > 0) {
    balls.forEach((ball, index) => {
      ball.vy += 0.35;
      ball.vx *= 0.995;
      ball.x += ball.vx;
      ball.y += ball.vy;

      // –û—Ç—Å–∫–æ–∫ –æ—Ç —à—Ç—ã—Ä–µ–π
      pins.forEach(pin => {
        const dx = pin.x - ball.x, dy = pin.y - ball.y, dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 6 + ballRadius) {
          const angle = Math.atan2(dy, dx);
          const targetDist = 6 + ballRadius;
         
```
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMEET Casino - Plinko</title>
  <style>
    body { margin: 0; overflow: hidden; background: #000; font-family: Arial, sans-serif; }

    canvas { display: block; }

    #welcome {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      font-size: 80px; color: #FFD700; text-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700, 0 0 30px #FF4500;
      white-space: nowrap; overflow: hidden; clip-path: inset(0 100% 0 0);
      animation: revealText 2s forwards ease-out; z-index: 10;
    }

    @keyframes revealText { from { clip-path: inset(0 100% 0 0); } to { clip-path: inset(0 0 0 0); } }

    .fade-out { animation: fadeOut 1s forwards; }
    @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

    #menu {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      color: #fff; text-align: center; display: none; z-index: 10;
    }

    #menu button {
      font-size: 25px; margin: 15px; padding: 10px 30px; background: #222; color: #FFD700;
      border: 2px solid #FFD700; cursor: pointer; border-radius: 10px; transition: 0.3s;
    }

    #menu button:hover { background: #FFD700; color: #000; }

    #ui {
      position: absolute; top: 10px; left: 10px; color: #fff; z-index: 10; font-size: 20px;
    }

    #ui label { margin-right: 10px; }
    #ui input { width: 60px; }
    #ui button {
      font-size: 20px; padding: 10px 30px; margin-top: 10px; background: #222; color: #FFD700;
      border: 2px solid #FFD700; border-radius: 10px; cursor: pointer; transition: 0.3s;
    }
    #ui button:hover { background: #FFD700; color: #000; }
  </style>
</head>
<body>

<div id="welcome">üé∞ SMEET üé∞</div>
<div id="menu">
  <h2>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</h2>
  <button onclick="startPlinko('easy')">–õ–µ–≥–∫–∏–π</button>
  <button onclick="startPlinko('medium')">–°—Ä–µ–¥–Ω–∏–π</button>
  <button onclick="startPlinko('hard')">–¢—è–∂–µ–ª—ã–π</button>
</div>

<div id="ui" style="display:none;">
  <label>–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></label>
  <label>–°—Ç–∞–≤–∫–∞: <input type="number" id="bet" value="50" min="10" max="1000"></label>
  <button onclick="dropBall()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —à–∞—Ä–∏–∫</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–≤–∞—Å–∞
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let balance = 1000;
let history = [];
let level = 'easy';
let sections = [], pins = [], balls = [];
const ballRadius = 12;

// –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤—ã–∏–≥—Ä—ã—à–∞
const levels = {
  easy:   [0.8, 1, 1.5, 2, 2.5, 5],
  medium: [0.5, 0.8, 1, 1.3, 1.5, 2, 2.5, 4.5, 10],
  hard:   [0.2, 0.5, 0.8, 1, 1.3, 1.5, 1.8, 2.2, 4, 6, 10, 25, 50, 100]
};

// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
const welcomeDiv = document.getElementById('welcome');
const menuDiv = document.getElementById('menu');
setTimeout(() => {
  welcomeDiv.classList.add('fade-out');
  setTimeout(() => { welcomeDiv.style.display = 'none'; menuDiv.style.display = 'block'; }, 1000);
}, 3000);

// –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
function startPlinko(selectedLevel) {
  level = selectedLevel;
  plinkoActive = true;
  menuDiv.style.display = 'none';
  initPlinko();
  document.getElementById('ui').style.display = 'block';
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ü–ª–∏–Ω–∫–æ
function initPlinko() {
  sections = [];
  pins = [];
  balls = [];
  const prizeList = levels[level];
  // —Å–æ–∑–¥–∞—ë–º —Å–µ–∫—Ü–∏–∏
  for (let i = 0; i < prizeList.length; i++) {
    sections.push({ x: i * (canvas.width / prizeList.length), width: canvas.width / prizeList.length, coef: prizeList[i], color: `hsl(${Math.random() * 360},70%,50%)` });
  }

  // —Å–æ–∑–¥–∞—ë–º —à—Ç—ã—Ä–∏
  const rows = 7;
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col < prizeList.length; col++) {
      const offset = row % 2 === 0 ? 0 : 40;
      const x = col * 80 + offset + (canvas.width - prizeList.length * 80) / 2;
      const y = row * 80 + 150;
      pins.push({ x, y });
    }
  }
}

// –ó–∞–ø—É—Å–∫ —à–∞—Ä–∏–∫–∞
function dropBall() {
  const bet = parseInt(document.getElementById('bet').value);
  if (balance < bet) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞!');
  balance -= bet;
  document.getElementById('balance').innerText = balance;
  balls.push({ x: canvas.width / 2, y: 50, vx: (Math.random() * 2 - 1) * 3, vy: 0, bet });
}

// –§–∏–∑–∏–∫–∞ –ø–∞–¥–µ–Ω–∏—è —à–∞—Ä–∏–∫–∞ –∏ –æ—Ç—Å–∫–æ–∫–æ–≤
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // --- –ó–≤–µ–∑–¥—ã ---
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.fill();
    ctx.closePath();
    s.alpha += s.alphaChange;
    if (s.alpha > 1 || s.alpha < 0) s.alphaChange *= -1;
  });

  // --- –ö–æ–º–µ—Ç—ã ---
  comets.forEach(c => {
    c.trail.push({ x: c.x, y: c.y });
    if (c.trail.length > 20) c.trail.shift();
    c.trail.forEach((p, i) => {
      const alpha = i / c.trail.length * 0.5;
      ctx.beginPath();
      ctx.arc(p.x, p.y, c.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${alpha})`;
      ctx.fill();
      ctx.closePath();
    });
    ctx.beginPath();
    ctx.arc(c.x, c.y, c.radius, 0, Math.PI * 2);
    ctx.fillStyle = '#fff';
    ctx.fill();
    ctx.closePath();
    c.x += c.speedX;
    c.y += c.speedY;
    if (c.x > canvas.width + 50 || c.y > canvas.height + 50) {
      c.x = Math.random() * canvas.width;
      c.y = -50;
      c.trail = [];
    }
  });

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —à–∞—Ä–∏–∫–æ–≤
  if (balls.length > 0) {
    balls.forEach((ball, index) => {
      ball.vy += 0.35;
      ball.vx *= 0.995;
      ball.x += ball.vx;
      ball.y += ball.vy;

      // –û—Ç—Å–∫–æ–∫ –æ—Ç —à—Ç—ã—Ä–µ–π
      pins.forEach(pin => {
        const dx = pin.x - ball.x, dy = pin.y - ball.y, dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 6 + ballRadius) {
          const angle = Math.atan2(dy, dx);
          const targetDist = 6 + ballRadius;
          const ax = Math.cos(angle) * (target
          // –û—Ç—Å–∫–æ–∫ –æ—Ç —à—Ç—ã—Ä–µ–π
          const ax = Math.cos(angle) * (targetDist - dist);
          const ay = Math.sin(angle) * (targetDist - dist);
          ball.x -= ax;
          ball.y -= ay;
          const bounce = 0.7;
          ball.vx = -ball.vx * bounce;
          ball.vy = -ball.vy * bounce;
        }
      });

      // –û—Ç—Å–∫–æ–∫ –æ—Ç –±–æ—Ä—Ç–∏–∫–æ–≤
      if (ball.x - ballRadius < 10) { 
        ball.x = 10 + ballRadius; 
        ball.vx *= -0.7; 
      }
      if (ball.x + ballRadius > canvas.width - 10) { 
        ball.x = canvas.width - 10 - ballRadius; 
        ball.vx *= -0.7; 
      }
      
      // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞: —à–∞—Ä–∏–∫ –ø–∞–¥–∞–µ—Ç –≤ –æ–¥–Ω—É –∏–∑ —Å–µ–∫—Ü–∏–π
      if (ball.y + ballRadius > canvas.height - 50) {
        const sec = Math.floor(ball.x / (canvas.width / sections.length));
        const winnings = ball.bet * sections[sec].coef;
        balance += winnings;
        document.getElementById('balance').innerText = balance;
        history.push({ coef: sections[sec].coef, winnings });
        balls.splice(index, 1);
      }

      // –†–∏—Å—É–µ–º —à–∞—Ä–∏–∫
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ballRadius, 0, Math.PI * 2);
      ctx.fillStyle = '#ff5555';
      ctx.fill();
      ctx.closePath();
    });
  }

  requestAnimationFrame(animate);
}

animate();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–≤–µ–∑–¥
const stars = [];
const comets = [];
for (let i = 0; i < 200; i++) {
  stars.push({ 
    x: Math.random() * canvas.width, 
    y: Math.random() * canvas.height, 
    radius: Math.random() * 1.5 + 0.5, 
    alpha: Math.random(), 
    alphaChange: Math.random() * 0.01 + 0.002 
  });
}

for (let i = 0; i < 5; i++) {
  comets.push({ 
    x: Math.random() * canvas.width, 
    y: Math.random() * canvas.height / 2, 
    speedX: Math.random() * 2 + 1, 
    speedY: Math.random() * 2 + 1, 
    radius: Math.random() * 3 + 2, 
    trail: [] 
  });
}

// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -> –ú–µ–Ω—é
const welcomeDiv = document.getElementById('welcome');
const menuDiv = document.getElementById('menu');
setTimeout(() => {
  welcomeDiv.classList.add('fade-out');
  setTimeout(() => { welcomeDiv.style.display = 'none'; menuDiv.style.display = 'block'; }, 1000);
}, 3000);

// –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
function startPlinko(selectedLevel) {
  level = selectedLevel;
  plinkoActive = true;
  menuDiv.style.display = 'none';
  initPlinko();
  document.getElementById('ui').style.display = 'block';
}

// –ü—Ä–∏–º–µ—Ä –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
function dropBall() {
  const bet = parseInt(document.getElementById('bet').value);
  if (balance < bet) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞!');
  balance -= bet;
  document.getElementById('balance').innerText = balance;
  balls.push({ x: canvas.width / 2, y: 50, vx: (Math.random() * 2 - 1) * 3, vy: 0, bet });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ü–ª–∏–Ω–∫–æ
function initPlinko() {
  sections = [];
  pins = [];
  balls = [];
  const prizeList = levels[level];
  
  // –°–æ–∑–¥–∞–µ–º —Å–µ–∫—Ü–∏–∏ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏
  for (let i = 0; i < prizeList.length; i++) {
    sections.push({ 
      x: i * (canvas.width / prizeList.length), 
      width: canvas.width / prizeList.length, 
      coef: prizeList[i], 
      color: `hsl(${Math.random() * 360},70%,50%)` 
    });
  }

  // –°–æ–∑–¥–∞–µ–º —à—Ç—ã—Ä–∏ –Ω–∞ –ø–æ–ª–µ
  const rows = 7;
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col < prizeList.length; col++) {
      const offset = row % 2 === 0 ? 0 : 40;
      const x = col * 80 + offset + (canvas.width - prizeList.length * 80) / 2;
      const y = row * 80 + 150;
      pins.push({ x, y });
    }
  }
}

// –ê–Ω–∏–º–∞—Ü–∏—è
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // --- –ó–≤–µ–∑–¥—ã ---
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.fill();
    ctx.closePath();
    s.alpha += s.alphaChange;
    if (s.alpha > 1 || s.alpha < 0) s.alphaChange *= -1;
  });

  // --- –ö–æ–º–µ—Ç—ã ---
  comets.forEach(c => {
    c.trail.push({ x: c.x, y: c.y });
    if (c.trail.length > 20) c.trail.shift();
    c.trail.forEach((p, i) => {
      const alpha = i / c.trail.length * 0.5;
      ctx.beginPath();
      ctx.arc(p.x, p.y, c.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${alpha})`;
      ctx.fill();
      ctx.closePath();
    });
    ctx.beginPath();
    ctx.arc(c.x, c.y, c.radius, 0, Math.PI * 2);
    ctx.fillStyle = '#fff';
    ctx.fill();
    ctx.closePath();
    c.x += c.speedX;
    c.y += c.speedY;
    if (c.x > canvas.width + 50 || c.y > canvas.height + 50) {
      c.x = Math.random() * canvas.width;
      c.y = -50;
      c.trail = [];
    }
  });

  // –†–∏—Å—É–µ–º —à–∞—Ä–∏–∫–∏
  if (balls.length > 0) {
    balls.forEach((ball, index) => {
      ball.vy += 0.35;
      ball.vx *= 0.995;
      ball.x += ball.vx;
      ball.y += ball.vy;

      // –û—Ç—Å–∫–æ–∫ –æ—Ç —à—Ç—ã—Ä–µ–π
      pins.forEach(pin => {
        const dx = pin.x - ball.x, dy = pin.y - ball.y, dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 6 + ballRadius) {
          const angle = Math.atan2(dy, dx);
          const targetDist = 6 + ballRadius;
          const ax = Math.cos(angle) * (targetDist - dist);
          const ay = Math.sin(angle) * (targetDist - dist);
          ball.x -= ax;
          ball.y -= ay;
          const bounce = 0.7;
          ball.vx = -ball.vx * bounce;
          ball.vy = -ball.vy * bounce;
        }
      });

      // –û—Ç—Å–∫–æ–∫ –æ—Ç –±–æ—Ä—Ç–∏–∫–æ–≤
      if (ball.x - ballRadius < 10) { 
        ball.x = 10 + ballRadius; 
        ball.vx *= -0.7; 
      }
      if (ball.x + ballRadius > canvas.width - 10) { 
        ball.x = canvas.width - 10 - ballRadius; 
        ball.vx *= -0.7; 
      }
      
      // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞: —à–∞—Ä–∏–∫ –ø–∞–¥–∞–µ—Ç –≤ –æ–¥–Ω—É –∏–∑ —Å–µ–∫—Ü–∏–π
      if (ball.y + ballRadius > canvas.height - 50) {
        const sec = Math.floor(ball.x / (canvas.width / sections.length));
        const winnings = ball.bet * sections[sec].coef;
        balance += winnings;
        document.getElementById('balance').innerText = balance;
        history.push({ coef: sections[sec].coef, winnings });
        balls.splice(index, 1);
      }

      // –†–∏—Å—É–µ–º —à–∞—Ä–∏–∫
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ballRadius, 0, Math.PI * 2);
      ctx.fillStyle = '#ff5555';
      ctx.fill();
      ctx.closePath();
    });
  }

  requestAnimationFrame(animate);
}

animate();

</script>
</body>
</html>
